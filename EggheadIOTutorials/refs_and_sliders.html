<!DOCTYPE html>
<html>
<head>
  <title>User</title>
  <script type="text/javascript" src="http://fb.me/react-0.12.2.js"></script>
  <script type="text/javascript" src="http://fb.me/JSXTransformer-0.12.2.js"></script>
</head>
<body>
  <script type="text/jsx">
    var App = React.createClass({
      getInitialState: function() {
        return {
          red: 0,
          blue: 0,
          green: 0
        }
      },
      update: function(e) {
        this.setState({
          red: this.refs.red.refs.inp.getDOMNode().value,
          blue: this.refs.blue.refs.inp.getDOMNode().value,
          green: this.refs.green.refs.inp.getDOMNode().value,

        });
      },
      render: function() {
        return (
          <div>
            <Slider ref="red" update={this.update} />
            <label>{this.state.red}</label>
            <Slider ref="blue" update={this.update} />
            <label>{this.state.blue}</label>        
            <Slider ref="green" update={this.update} />
            <label>{this.state.green}</label>
          </div>
        );
      }
    });

    // Widget has no state - only props
    var Widget = React.createClass({
      render: function() {
        return (
          <div>
            <input type="text" onChange={this.props.update} />
            <br />
            <h1>{this.props.text}</h1>
          </div>
        );
      }
    });

    var Slider = React.createClass({
      render: function() {
        return (
          <div>
            <input ref="inp" type="range" min="0" max="255" onChange={this.props.update} />
          </div>
        );
      }
    });

    React.render(<App />, document.body);
  </script>
</body>
</html>

